import React, { useState, useEffect } from "react";
import { Canvas } from "@react-three/fiber";
import ThreeD from "./ThreeD";
import { useLocation } from "react-router-dom";
// const data = require("./../data/coordinateOne.json");

export default function Scene() {
  const location = useLocation();
  console.log("this is location", location);
  let mask = location.state;
  console.log("this mask ", mask);

  // const deliveredMask = {
  //   ExteriorWall: [
  //     {
  //       x: 70,
  //       y: 118,
  //     },
  //     {
  //       x: 75,
  //       y: 118,
  //     },
  //     {
  //       x: 75,
  //       y: 121,
  //     },
  //     {
  //       x: 73,
  //       y: 121,
  //     },
  //     {
  //       x: 73,
  //       y: 206,
  //     },
  //     {
  //       x: 83,
  //       y: 206,
  //     },
  //     {
  //       x: 83,
  //       y: 215,
  //     },
  //     {
  //       x: 116,
  //       y: 215,
  //     },
  //     {
  //       x: 116,
  //       y: 206,
  //     },
  //     {
  //       x: 139,
  //       y: 206,
  //     },
  //     {
  //       x: 139,
  //       y: 216,
  //     },
  //     {
  //       x: 160,
  //       y: 216,
  //     },
  //     {
  //       x: 160,
  //       y: 206,
  //     },
  //     {
  //       x: 167,
  //       y: 206,
  //     },
  //     {
  //       x: 167,
  //       y: 165,
  //     },
  //     {
  //       x: 184,
  //       y: 165,
  //     },
  //     {
  //       x: 184,
  //       y: 49,
  //     },
  //     {
  //       x: 171,
  //       y: 49,
  //     },
  //     {
  //       x: 171,
  //       y: 42,
  //     },
  //     {
  //       x: 151,
  //       y: 42,
  //     },
  //     {
  //       x: 151,
  //       y: 49,
  //     },
  //     {
  //       x: 123,
  //       y: 49,
  //     },
  //     {
  //       x: 123,
  //       y: 41,
  //     },
  //     {
  //       x: 103,
  //       y: 41,
  //     },
  //     {
  //       x: 103,
  //       y: 49,
  //     },
  //     {
  //       x: 92,
  //       y: 49,
  //     },
  //     {
  //       x: 92,
  //       y: 121,
  //     },
  //     {
  //       x: 88,
  //       y: 121,
  //     },
  //     {
  //       x: 88,
  //       y: 118,
  //     },
  //     {
  //       x: 89,
  //       y: 118,
  //     },
  //     {
  //       x: 89,
  //       y: 46,
  //     },
  //     {
  //       x: 100,
  //       y: 46,
  //     },
  //     {
  //       x: 100,
  //       y: 38,
  //     },
  //     {
  //       x: 126,
  //       y: 38,
  //     },
  //     {
  //       x: 126,
  //       y: 46,
  //     },
  //     {
  //       x: 148,
  //       y: 46,
  //     },
  //     {
  //       x: 148,
  //       y: 39,
  //     },
  //     {
  //       x: 174,
  //       y: 39,
  //     },
  //     {
  //       x: 174,
  //       y: 46,
  //     },
  //     {
  //       x: 187,
  //       y: 46,
  //     },
  //     {
  //       x: 187,
  //       y: 168,
  //     },
  //     {
  //       x: 170,
  //       y: 168,
  //     },
  //     {
  //       x: 170,
  //       y: 209,
  //     },
  //     {
  //       x: 163,
  //       y: 209,
  //     },
  //     {
  //       x: 163,
  //       y: 219,
  //     },
  //     {
  //       x: 136,
  //       y: 219,
  //     },
  //     {
  //       x: 136,
  //       y: 209,
  //     },
  //     {
  //       x: 119,
  //       y: 209,
  //     },
  //     {
  //       x: 119,
  //       y: 218,
  //     },
  //     {
  //       x: 80,
  //       y: 218,
  //     },
  //     {
  //       x: 80,
  //       y: 209,
  //     },
  //     {
  //       x: 70,
  //       y: 209,
  //     },
  //   ],
  //   InteriorWall: [
  //     {
  //       x: 73,
  //       y: 167,
  //     },
  //     {
  //       x: 79,
  //       y: 167,
  //     },
  //     {
  //       x: 79,
  //       y: 170,
  //     },
  //     {
  //       x: 73,
  //       y: 170,
  //     },

  //     {
  //       x: 92,
  //       y: 65,
  //     },
  //     {
  //       x: 97,
  //       y: 65,
  //     },
  //     {
  //       x: 97,
  //       y: 68,
  //     },
  //     {
  //       x: 92,
  //       y: 68,
  //     },

  //     {
  //       x: 115,
  //       y: 167,
  //     },
  //     {
  //       x: 125,
  //       y: 167,
  //     },
  //     {
  //       x: 125,
  //       y: 206,
  //     },
  //     {
  //       x: 122,
  //       y: 206,
  //     },
  //     {
  //       x: 122,
  //       y: 170,
  //     },
  //     {
  //       x: 115,
  //       y: 170,
  //     },

  //     {
  //       x: 129,
  //       y: 65,
  //     },
  //     {
  //       x: 135,
  //       y: 65,
  //     },
  //     {
  //       x: 135,
  //       y: 49,
  //     },
  //     {
  //       x: 138,
  //       y: 49,
  //     },
  //     {
  //       x: 138,
  //       y: 106,
  //     },
  //     {
  //       x: 135,
  //       y: 106,
  //     },
  //     {
  //       x: 135,
  //       y: 68,
  //     },
  //     {
  //       x: 129,
  //       y: 68,
  //     },

  //     {
  //       x: 137,
  //       y: 167,
  //     },
  //     {
  //       x: 138,
  //       y: 167,
  //     },
  //     {
  //       x: 138,
  //       y: 141,
  //     },
  //     {
  //       x: 141,
  //       y: 141,
  //     },
  //     {
  //       x: 141,
  //       y: 167,
  //     },
  //     {
  //       x: 167,
  //       y: 167,
  //     },
  //     {
  //       x: 167,
  //       y: 170,
  //     },
  //     {
  //       x: 137,
  //       y: 170,
  //     },

  //     {
  //       x: 138,
  //       y: 126,
  //     },
  //     {
  //       x: 154,
  //       y: 126,
  //     },
  //     {
  //       x: 154,
  //       y: 118,
  //     },
  //     {
  //       x: 157,
  //       y: 118,
  //     },
  //     {
  //       x: 157,
  //       y: 126,
  //     },
  //     {
  //       x: 184,
  //       y: 126,
  //     },
  //     {
  //       x: 184,
  //       y: 129,
  //     },
  //     {
  //       x: 138,
  //       y: 129,
  //     },

  //     {
  //       x: 150,
  //       y: 103,
  //     },
  //     {
  //       x: 184,
  //       y: 103,
  //     },
  //     {
  //       x: 184,
  //       y: 106,
  //     },
  //     {
  //       x: 150,
  //       y: 106,
  //     },
  //   ],
  // };
  const deliveredMask = {
    ExteriorWall: [],
    InteriorWall: [],
  };

  let temp = [];
  for (let i = 0; i < mask.InteriorWall.length; i++) {
    for (let j = 0; j < mask.InteriorWall[i].length; j++) {
      temp.push(mask.InteriorWall[i][j]);
    }
  }
  deliveredMask.ExteriorWall = mask.ExteriorWall;
  deliveredMask.InteriorWall = temp;

  console.log("this is the final mask", deliveredMask);
  return (
    <Canvas
      shadows
      style={{
        position: "relative",
        width: 1600,
        height: 750,
        overflow: "hidden",
      }}
    >
      <ThreeD
        //   location.state
        deliveredMask={deliveredMask}
      />
    </Canvas>
  );
}
